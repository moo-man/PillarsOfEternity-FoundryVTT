<div class="detail-group">
    <label>{{localize "PILLARS.TheCause"}}</label>
    <input type="text" name="system.details.cause" value="{{system.details.cause}}">
</div>

<div class="detail-group">
    <label>{{localize "PILLARS.CallToTheCause"}}</label>
    <input type="text" name="system.details.call" value="{{system.details.call}}">
</div>

<div class="detail-group">
    <label>{{localize "PILLARS.PersonalGoal"}}</label>
    <input type="text" name="system.details.goal" value="{{system.details.goal}}">
</div>

<div class="detail-group textbox">
    <label>{{localize "PILLARS.Relationships"}}</label>
    <textarea name="system.details.relationships">{{system.details.relationships}}</textarea>
</div>
<hr>
<div class="notes">
    {{editor system.notes.value target="system.notes.value" engine="prosemirror" button=true owner=owner editable=editable}}
</div>
<hr>
<!-- childhood/background -->
<div class="background">
    <div class="detail-group">
        <label>{{localize "PILLARS.Childhood"}}: </label>
        <select name="system.life.childhood">
            {{#select system.life.childhood}}
            <option value=""></option>
            {{#each (config "settings") as |setting s|}}
            <option value="{{s}}" >{{setting.name}}</option>
            {{/each}}
            {{/select}}
        </select>
        <!-- <div class="settings">
            <label>{{localize "PILLARS.Settings"}}: </label>
            {{#each items.settings as |setting s|}}
            <a class="setting" data-item-id={{setting.id}}>{{setting.name}},</a>
            {{/each}}
        </div> -->
    </div>
    <ol class="items-list">
        <li class="items-header flexrow">
            <h3 class="item-name flexrow">{{localize "PILLARS.Backgrounds"}}</h3>
            <span class="item-property-column flex">{{localize "PILLARS.Setting"}}</span>
            <span class="item-property-column">{{localize "PILLARS.Years"}}</span>
            <div class="item-controls">
                <a class="item-control item-create" title="Create" data-type="background"><i
                        class="fas fa-plus"></i></a>
            </div>
        </li>

        <ol class="items">
            {{#each items.backgrounds as |item i|}}
            <li class="item {{#if item.system.used.value}}used{{/if}}" data-item-id="{{item.id}}">
                <div class="row-content">

                    {{#if item.system.used.value}}
                    <a class="item-toggle item-used sheet-checkbox" data-target="item"
                        data-item-target="system.used.value"><i class="far fa-check-circle"></i></a>
                    {{else}}
                    <a class="item-toggle item-used sheet-checkbox" data-target="item"
                        data-item-target="system.used.value"><i class="far fa-circle"></i></a>
                    {{/if}}

                    <div class="item-name flexrow item-dropdown">
                        <div class="item-image" style="background-image: url('{{item.img}}')"></div>
                        <a>
                            <h4>{{item.name}}</h4>
                        </a>
                    </div>


                    <span class="item-property-column flex">
                        <select class="item-property" data-target="system.setting.id">
                            {{#select item.system.setting.value}}
                            <option value=""></option>
                            {{#each (config "settings") as |setting s|}}
                            <option value="{{s}}" >{{setting.name}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </span>
                    <span class="item-property-column"><input type="number" class="item-property"
                            data-target="system.years.value" value="{{item.system.years.value}}"></span>


                    <div class="item-controls flexrow">
                        {{#if ../owner}}
                        <a class="item-control item-post" title="Post Item"><i class="fas fa-comment"></i></a>
                        <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                        <a class="item-control item-dropdown" title="Dropdown"><i class="fas fa-chevron-down"></i></a>
                        <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                        {{/if}}
                    </div>
                </div>
            </li>
            {{/each}}
        </ol>
    </ol>
</div>
<hr>

<div class="bonds">
    <ol class="items-list">
        <li class="items-header flexrow">
            <h3 class="item-name flexrow">{{localize "PILLARS.Bonds"}}</h3>
            <span class="item-property-column">{{localize "PILLARS.XP"}}</span>
            <span class="item-property-column">{{localize "PILLARS.Rank"}}</span>
            <span class="item-property-column">{{localize "PILLARS.Mod"}}</span>
            <div class="item-controls">
                <a class="item-control item-create" title="Create" data-type="bond"><i
                        class="fas fa-plus"></i></a>
            </div>
        </li>

        <ol class="items">
            {{#each items.bonds as |item i|}}
            <li class="item" draggable="true" {{#unless item.system.active}}style="opacity: 0.5"{{/unless}} data-item-id="{{item.id}}">
                <div class="row-content">
                    <div class="item-name flexrow item-dropdown">
                        <div class="item-image" style="background-image: url('{{item.img}}')"></div>
                        <a>
                            <h4>{{item.Bond.name}}</h4>
                        </a>
                    </div>

                    <span class="item-property-column"><input type="number" class="item-property"
                        data-target="system.xp.value" value="{{item.system.xp.value}}"></span>
                <span class="item-property-column"><input type="number" class="item-property"
                        data-target="system.xp.rank" value="{{item.system.xp.rank}}"></span>
                <span class="item-property-column"><input type="number" class="item-property"
                        data-target="system.modifier.value" value="{{item.modifier.value}}"></span>


                    <div class="item-controls flexrow">
                        {{#if ../owner}}
                        <a class="item-control item-post" title="Post Item"><i class="fas fa-comment"></i></a>
                        <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                        <a class="item-control item-dropdown" title="Dropdown"><i class="fas fa-chevron-down"></i></a>
                        <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                        {{/if}}
                    </div>
                </div>
            </li>
            {{/each}}
        </ol>
    </ol>
</div>

<div class="connection">
    <ol class="items-list">
        <li class="items-header flexrow">
            <h3 class="item-name flexrow">{{localize "PILLARS.Connection"}}</h3>
            <span class="item-property-column">{{localize "PILLARS.XP"}}</span>
            <span class="item-property-column">{{localize "PILLARS.Rank"}}</span>
            <span class="item-property-column">{{localize "PILLARS.Mod"}}</span>
            <div class="item-controls">
                <a class="item-control item-create" title="Create" data-type="connection"><i
                        class="fas fa-plus"></i></a>
            </div>
        </li>

        <ol class="items">
            {{#each items.connections as |item i|}}
            <li class="item" draggable="true" data-item-id="{{item.id}}">
                <div class="row-content">

                    <div class="item-name flexrow item-dropdown">
                        <div class="item-image" style="background-image: url('{{item.img}}')"></div>
                        <a>
                            <h4>{{item.name}}</h4>
                        </a>
                    </div>

                    <span class="item-property-column"><input type="number" class="item-property"
                        data-target="system.xp.value" value="{{item.system.xp.value}}"></span>
                <span class="item-property-column"><input type="number" class="item-property"
                        data-target="system.xp.rank" value="{{item.system.xp.rank}}"></span>
                <span class="item-property-column"><input type="number" class="item-property"
                        data-target="system.modifier.value" value="{{item.modifier.value}}"></span>


                    <div class="item-controls flexrow">
                        {{#if ../owner}}
                        <a class="item-control item-post" title="Post Item"><i class="fas fa-comment"></i></a>
                        <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                        <a class="item-control item-dropdown" title="Dropdown"><i class="fas fa-chevron-down"></i></a>
                        <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                        {{/if}}
                    </div>
                </div>
            </li>
            {{/each}}
        </ol>
    </ol>
    <ol class="items-list">
        <li class="items-header flexrow">
            <h3 class="item-name flexrow">{{localize "PILLARS.KnownConnection"}}</h3>
            <div class="item-controls">
                <a class="item-control create-connection" title="Create"><i class="fas fa-plus"></i></a>
            </div>
        </li>

        <ol class="items">
            {{#each Connections as |item i|}}
            <li class="item" draggable="true" data-index="{{i}}" data-actor-id="{{item.id}}">
                <div class="row-content">

                    <div class="item-name connection-name flexrow">
                        <div class="item-image" style="background-image: url('{{item.img}}')"></div>
                        <a>
                            <h4>{{item.name}}</h4>
                        </a>
                    </div>

                    <div class="item-controls flexrow">
                        {{#if ../owner}}
                        <a class="item-control edit-connection" title="Edit Item"><i class="fas fa-edit"></i></a>
                        <a class="item-control delete-connection" title="Delete Item"><i class="fas fa-trash"></i></a>
                        {{/if}}
                    </div>
                </div>
            </li>
            {{/each}}
        </ol>
    </ol>
</div>
<div>
    <ol class="items-list">
        <li class="items-header flexrow">
            <h3 class="item-name flexrow">{{localize "PILLARS.Reputation"}}</h3>
            <span class="item-property-column flex">{{localize "PILLARS.Group"}}</span>
            <span class="item-property-column">{{localize "PILLARS.XP"}}</span>
            <span class="item-property-column">{{localize "PILLARS.Rank"}}</span>
            <span class="item-property-column">{{localize "PILLARS.Mod"}}</span>

            <div class="item-controls">
                <a class="item-control item-create" title="Create" data-type="reputation"><i
                        class="fas fa-plus"></i></a>
            </div>
        </li>

        <ol class="items">
            {{#each items.reputations as |item i|}}
            <li class="item" draggable="true" data-item-id="{{item.id}}">
                <div class="row-content">
                    <div class="item-name flexrow">
                        <div class="item-image" style="background-image: url('{{item.img}}')"></div>
                        <a>
                            <h4>{{item.name}}</h4>
                        </a>
                    </div>

                    <span class="item-property-column flex">{{item.group.value}}</span>
                    <span class="item-property-column"><input type="number" class="item-property"
                            data-target="system.xp.value" value="{{item.system.xp.value}}"></span>
                    <span class="item-property-column"><input type="number" class="item-property"
                            data-target="system.xp.rank" value="{{item.system.xp.rank}}"></span>
                    <span class="item-property-column"><input type="number" class="item-property"
                            data-target="system.modifier.value" value="{{item.modifier.value}}"></span>
                    


                    <div class="item-controls flexrow">
                        {{#if ../owner}}
                        <a class="item-control item-post" title="Post Item"><i class="fas fa-comment"></i></a>
                        <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                        <a class="item-control item-dropdown" title="Dropdown"><i class="fas fa-chevron-down"></i></a>
                        <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                        {{/if}}
                    </div>
                </div>
            </li>
            {{/each}}
        </ol>
    </ol>
</div>
<hr>
<div class="aging">
    <div class="section-header"><h3>{{localize "PILLARS.Aging"}}</h3></div>
    <div class="aging-details">
        <div class="aging-inputs">
            
            <div class="points">
                <label>{{localize "PILLARS.ActualAge"}}: </label>
                <input type="text" name="system.life.age" value="{{system.life.age}}">
            </div>
            
            <div class="points">
                <label>{{localize "PILLARS.ApparentAge"}}: </label>
                <input type="text" name="system.life.apparentAge" value="{{system.life.apparentAge}}">
            </div>
            
            <div class="points">
                <label>{{localize "PILLARS.AgingPoints"}}: </label>
                <input type="text" name="system.life.agingPoints" value="{{system.life.agingPoints}}">
            </div>
            <div class="phase">
                <label>{{localize "PILLARS.CurrentPhase"}}: </label>
                <select name="system.life.phase">
                    {{#select system.life.phase}}
                    <option value="">-</option>
                    {{#each (config "lifePhases") as |value key|}}
                    <option value="{{key}}">{{value}}</option>
                    {{/each}}
                    {{/select}}
                </select>
            </div>
        </div>
    
        <div class="death-march">
            <h3>{{localize "PILLARS.DeathMarch"}}</h3>
            <div class="track">
                {{#each deathMarch as |value index|}}        
                {{{value}}}
                {{/each}}
            </div>
            <button type="button" class="age-roll">Roll Aging</button>
   
        </div>
    
    </div>
</div>
<!-- Aging Points -->